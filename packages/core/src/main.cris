(import ["@cris/lang/core" :as cris.core])

(def curry cris.core/curry)
(def log! (curry (:log console)))

(defn map [f coll]
  (.map coll f))

(defn filter [f coll]
  (.filter coll f))

(defn each [f coll]
  (.forEach coll f))

(defn -> [x & fns] 
  (.reduce fns (fn [v f] (f v)) x))

(-> [1 2 3]
    (map (fn [x] (+ x 2)))
    (filter (fn [x] (not= x 4)))
    (each (fn [x] (log! x))))
